\subsection{Handhabung von Offline-Nachrichten}

Eine direkte Peer to Peer Kommunikation ist nur möglich, wenn keiner der beiden Benutzer hinter einem 
Network Address Translation (NAT) Gateway sitzt. Da dies allerdings in der Regel nicht der Fall ist,
muss eine andere Lösung gefunden werden. Eine Möglichkeit ist die Verwendung eines Relay Servers.
Der Relay Server ist ein Server, der die Nachrichten zwischen den Benutzern weiterleitet, wenn eine reine Peer to Peer
Kommunikation nicht möglich ist. Wenn ein Benutzer offline ist, kann der Relay Server die Nachricht nicht an 
den Benutzer weiterleiten.
Deshalb muss das Protokoll eine Möglichkeit bieten, Nachrichten zu speichern, wenn der Empfänger offline ist.
Wenn der Empfänger wieder online ist, müssen die Nachrichten an den Empfänger gesendet werden.
Das Protokoll muss auch eine Möglichkeit bieten, Nachrichten zu speichern, wenn der Sender offline ist.
Wenn der Sender wieder online ist, müssen die Nachrichten an den Empfänger gesendet werden.
Die folgenden Funktionen sind Teil der Handhabung von Offline-Nachrichten:

\begin{itemize}
    \item Nachrichten speichern, wenn der Empfänger offline ist
    \item Nachrichten senden, wenn der Empfänger wieder online ist
    \item Nachrichten speichern, wenn der Sender offline ist
    \item Nachrichten senden, wenn der Sender wieder online ist
\end{itemize}



