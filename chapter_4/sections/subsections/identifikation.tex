\subsection{Identifikation von Teilnehmern}
\label{subsec:identifikation_von_teilnehmern}

Da es in Peer-to-Peer Netzwerken keinen zentralen Server gibt, der unter anderem zur Auffindung und Identifikation anderer Teilnehmer verwendet werden kann, müssen die Teilnehmer auf andere Weise identifiziert werden. Durch die Entscheidung, das Kademlia Protokoll zu implementieren, wird die ID des Teilnehmers als Schlüssel für die Speicherung der Teilnehmerinformationen, wie IP-Adresse und Port, verwendet.
Aus der Spezifikation von Kademlia geht hervor, dass die ID 160 Bit lang sein muss und aus einer zufälligen Kennung bestehen soll \parencite[S. 2]{Maymounkov_Kademlia}. Für das hier entwickelte Protokoll wird der Benutzername des Teilnehmers als ID verwendet. Dieser muss, wie aus den funktionalen Anforderungen zu entnehmen (siehe \ref{subsec:registrierung}), eindeutig sein und kann vom Benutzer bei der Registrierung frei gewählt werden. Um die Anforderung an die Länge zu erfüllen, werden die Zeichen des Benutzernamens auf 20 begrenzt und bei einer Formatierung in UTF-8 ergibt sich somit eine ID mit einer Länge von 160 Bit. Sollte der Benutzername kürzer als 20 Zeichen sein, wird er mit Nullen aufgefüllt, um die geforderte Länge zu erreichen.
Durch die Beschränkung der ID auf 20 Zeichen wird die Anzahl der möglichen Teilnehmer zwar begrenzt, doch daraus ergeben sich $2^{160}$ mögliche IDs, was einer Anzahl von $1.461.501.637.330.902.918.203.684.832.716.283.019.655.932.542.976$ Teilnehmern entspricht. Diese Anzahl ist so groß, dass sie in der Praxis nicht erreicht werden sollte und somit die Beschränkung der ID keine Auswirkungen auf die Funktionalität des Protokolls haben sollte.

Wenn ein Teilnehmer eine Nachricht an einen anderen Teilnehmer senden möchte, muss er dessen IP-Adresse und Port kennen. Diese Informationen werden in der Routing-Tabelle gespeichert. Die Routing-Tabelle ist eine Liste von Teilnehmern, die in Buckets organisiert ist. Jeder Bucket enthält Teilnehmer, die sich in einem bestimmten Bereich der ID befinden. Die Größe der Buckets ist auf 20 Teilnehmer begrenzt. Die Teilnehmer in einem Bucket sind nach ihrer Aktivität sortiert. Die Teilnehmer, die zuletzt aktiv waren, befinden sich am Anfang der Liste. Wenn ein Teilnehmer eine Nachricht an einen anderen Teilnehmer senden möchte, sucht er zuerst in der Routing-Tabelle nach dem Empfänger. Wenn der Empfänger gefunden wird, wird die Nachricht direkt an ihn gesendet. Wenn der Empfänger nicht gefunden wird, ist er entweder in keiner Routing-Tabelle mehr enthalten und damit offline, oder er befindet sich hinter einem NAT-Router oder einer Firewall. In diesem Fall wird auf einen fixen Relay-Server zurückgegriffen, um die Nachricht an den Empfänger zu senden. Dieser Server ermöglicht es, Nachrichten an Teilnehmer zu senden, die sich hinter einem NAT-Router oder einer Firewall befinden. Der Server ist in der Lage, die Nachrichten an den Empfänger weiterzuleiten, da er die IP-Adresse und den Port des Empfängers kennt. Sollte auch diese Möglichkeit nicht funktionieren, wird angenommen, dass der Empfänger offline und somit nicht erreichbar ist.

Bei der Implementierung dieses Protokolls in eine reale Anwendung sollte der Relay-Server durch mehrere Server ersetzt werden, um die Ausfallsicherheit zu erhöhen und es sollte eine Funktion implementiert werden, die im Hintergrund immer wieder versucht, die Nachricht an den Empfänger zu senden. Die genaue Implementierung dieser Funktion ist dem Entwickler überlassen und wird hier nicht weiter betrachtet.