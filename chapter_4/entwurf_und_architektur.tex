\chapter{Architektur des Protokolls}
\label{chap:entwurf_und_architektur}

% #TODO: hashing in Betracht gezogen, aber da er nur dazu dient eine ID zu erzeugen bzw. man einen Nutzer daran identifizieren soll, ist das eigentlich nicht notwendig zu hashen. Es ist kryptografisch nicht notwendig
% #TODO: deshalb den Benutzernamen verwenden, der ja sowieso eindeutig sein muss (aus UX-Gründen), ihn auf 20 Zeichen limitieren (utf-8 -> 160 bits/8 = 20) und gegebenenfalls mit Nullen auffüllen, falls er kürzer ist

% #TODO: Vielleicht noch den Sicherheitsaspekt der Blockchain erklären, dass die IDs nicht gefälscht werden können, da sie in der Blockchain gespeichert sind und somit nicht manipuliert werden können; wenn die Nachrichten mit dem public key, der in der Blockchain liegt, signiert werden, bietet auch das eine Sicherheit, dass die Nachrichten nicht gefälscht werden können

% #TODO: neu schreiben, wenn der komplette Inhalt des Kapitels feststeht 

In diesem Kapitel wird die Architektur des Protokolls eingehend erläutert. Dabei werden zunächst die fundamentalen Grundlagen des Protokolls beleuchtet, gefolgt von einer Betrachtung zur Identifikation der beteiligten Teilnehmer. Anschließend wird das Verbindungsmanagement detailliert beschrieben, gefolgt von einer Darstellung des Nachrichtenformats. Abschließend erfolgt eine umfassende Erklärung zur Integration der Blockchain.

\input{chapter_4/sections/protokollgrundlagen.tex}

\input{chapter_4/sections/identifikation.tex}

\input{chapter_4/sections/verbindungsmanagement.tex}

\input{chapter_4/sections/nachrichtenformat.tex}

%\input{chapter_4/sections/subsections/statusinformation.tex}

%\input{chapter_4/sections/subsections/verbindung.tex}

%\input{chapter_4/sections/subsections/nachrichten.tex}

%\input{chapter_4/sections/subsections/nachrichtenverlauf.tex}

\input{chapter_4/sections/sicherheit.tex}

%\input{chapter_4/sections/fehlerbehandlung.tex}

%\input{chapter_4/sections/protokolldesign.tex}

%\input{chapter_4/sections/technologien_und_tools.tex}

\input{chapter_4/sections/blockchainintegration.tex}