\section{Sicherheit}
\label{sec:sicherheit_basics}
% Einleitung von Overlay Netzwerk zu Underlay Netzwerk; da die Kommunikation über IP geht, ist es wichtig, dass die Kommunikation sicher ist, weil es über mehrere Knoten geht, die nicht vertrauenswürdig sind
% Was möchte ich schützen? Vertraulichkeit, Integrität, Authentizität <- welche Technologien werden verwendet, um diese Ziele zu erreichen?

Peer-to-Peer bildet das Overlay-Netzwerk, welches über das Underlay-Netzwerk, das Internet, läuft. Da die Kommunikation über das Internet läuft, ist es wichtig, dass die Kommunikation sicher ist, da sie über mehrere Knoten geht, die nicht vertrauenswürdig sind. Mittels Kryptografie kann die Vertraulichkeit, Integrität und Authentizität der Kommunikation gewährleistet werden \Parencite[S. 7]{Hellmann_IT-Sicherheit}. 

\subsection{Vertraulichkeit}

Die Vertraulichkeit der Kommunikation wird durch Verschlüsselung gewährleistet. Es gibt zwei Arten von Verschlüsselung: \textit{symmetrische} und \textit{asymmetrische} Verschlüsselung. Bei der \textit{symmetrischen} Verschlüsselung wird nur ein Schlüssel für die Verschlüsselung und Entschlüsselung verwendet. Der Sender der Nachricht verschlüsselt die Nachricht mit einem Schlüssel und sendet die nun verschlüsselte Nachricht an den Empfänger. Der Empfänger kann die Nachricht mit dem gleichen Schlüssel entschlüsseln. Dadurch kann ein Angreifer, der die Nachricht abfängt, diese nicht entschlüsseln, da er den Schlüssel nicht kennt. Das Problem bei der symmetrischen Verschlüsselung ist, dass der Schlüssel zu Beginn der Kommunikation vom Sender an den Empfänger gelangen muss. Dies stellt eine Herausforderung dar, wenn Sender und Empfänger sich noch nicht kennen und noch nie zuvor miteinander kommuniziert haben oder noch nicht über andere Wege einen Schlüssel ausgetauscht haben. Sollte der Schlüssel bei der Übertragung über einen unsicheren Kanal abgefangen werden, kann der Angreifer die Kommunikation entschlüsseln und somit mitlesen \Parencites[S. 644]{DiffieHellman_NewDirectionsInCryptography}[S. 5-8]{Wong_KryptoPraxis}. Um dieses Problem zu lösen, wurde die \textit{asymmetrische} Verschlüsselung, welche auch unter dem Begriff \textit{Public-Key Kryptografie} bekannt ist, entwickelt. Bei der asymmetrischen Verschlüsselung wird anstatt eines Schlüssels ein Schlüsselpaar generiert, das aus einem öffentlichen und einem privaten Schlüssel besteht. Der öffentliche Schlüssel wird zum Verschlüsseln der Nachrichten verwendet und der private Schlüssel wird zum Entschlüsseln der Nachrichten verwendet. 

% #TODO: Abbildung vor asymmetrische Verschlüsselung einfügen, hilft beim Verständnis

\subsection{Integrität}

Um die Integrität der Kommunikation zu gewährleisten, werden Signaturen verwendet. Für eine Signatur wird der Hashwert einer Nachricht mit dem privaten Schlüssel des Senders verschlüsselt und an die Nachricht angehängt. 

Um den Hashwert zu erhalten, wird die Nachricht mit einer Hashfunktion gehasht. Hashfunktionen sind Funktionen, die eine Eingabe beliebiger Länge in eine Ausgabe fester Länge umwandeln. Dabei ist es wichtig, dass die Hashfunktion zwei Eigenschaften erfüllt: \textit{Einwegfunktion} und \textit{Kollisionsresistenz}. Eine Einwegfunktion ist eine Funktion, die einfach zu berechnen ist, aber schwierig zu invertieren ist. Das bedeutet, dass es einfach ist, den Hashwert einer Nachricht zu berechnen, aber schwierig ist, die Nachricht aus dem Hashwert zu berechnen. Kollisionsresistenz bedeutet, dass es schwierig ist, zwei Nachrichten zu finden, die den gleichen Hashwert haben \parencite[S. 13-15]{Brünnler_BlockchainKurzGut}.

Der Empfänger kann den verschlüsselten Hashwert mit dem öffentlichen Schlüssel des Senders entschlüsseln, um dann anschließend selbst den Hashwert der Nachricht zu berechnen. Wenn der berechnete Hashwert mit dem entschlüsselten Hashwert übereinstimmt, kann der Empfänger sicher sein, dass die Nachricht nicht verändert wurde und somit die Integrität der Nachricht gewährleistet ist. Falls der berechnete Hashwert nicht mit dem entschlüsselten Hashwert übereinstimmt, wurde die Nachricht verändert und die Integrität der Nachricht ist nicht mehr gewährleistet \Parencite[S. 73-78]{Hellmann_IT-Sicherheit}.


\subsection{Authentizität}

Für die Authentizität der Kommunikation werden ebenfalls Signaturen verwendet. Der Sender signiert die Nachricht mit seinem privaten Schlüssel und sendet die signierte Nachricht an den Empfänger. Durch die Integration der Blockchain in dieser Arbeit fungiert diese als öffentliches Verzeichnis oder auch Key-Server, in dem die öffentlichen Schlüssel der Teilnehmer gespeichert sind. Der Empfänger kann den öffentlichen Schlüssel des Senders aus der Blockchain auslesen, wodurch nachvollzogen werden kann, ob die Nachricht vom Sender stammt oder nicht.